#!/bin/bash

WORKDIR=$DOCKER_HOME/projects/fastsolve

if [[ -z "$1" || "$1" == "-octave" ]]; then
  cd $WORKDIR/paracoder && octave --eval "build_m2c"
  cd $WORKDIR/ilupack4m && octave --eval "build_milu"
  cd $WORKDIR/petsc4m && octave --eval "build_petsc"
else
  cd $WORKDIR/paracoder && octave --eval "build_m2c -matlab"
  cd $WORKDIR/ilupack4m && octave --eval "build_milu -matlab"
  cd $WORKDIR/petsc4m && octave --eval "build_petsc -matlab"
fi
