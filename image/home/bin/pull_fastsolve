#!/bin/bash

WORKDIR=$DOCKER_HOME/projects/fastsolve

mkdir -p $WORKDIR

for MODULE in paracoder ilupack4m petsc4m gamg4m matrices; do
    if [ -e "$WORKDIR/$MODULE/.git" ]; then
        echo "$MODULE was already cloned. Pulling from repository"

        cd $WORKDIR/$MODULE
        git pull
    else
        cd $WORKDIR
        # Remove octave-workspace if it exists
        rm -f $MODULE/octave-workspace
        git clone --depth 10 --no-single-branch git@github.com:fastsolve/$MODULE.git
    fi
done
